name: ukraine

extensions:
  - name: zipkin
  - name: seq
    logPath: ./.logs

services:

  - name: component-postgresql
    image: postgres:14.4
    env:
      - name: POSTGRES_DB
        value: ukraine
      - name: POSTGRES_USER
        value: postgres
      - name: POSTGRES_PASSWORD
        value: postgres 
    bindings:
      - port: 5432
        connectionString: Server=${host};Port=${port};User Id=postgres;Password=${env:POSTGRES_PASSWORD};

  - name: service-test-first-api
    project: src/Services/Test/FirstTestApiService/FirstTestApiService.csproj
    env:
      - name: ASPNETCORE_ENVIRONMENT
        value: Development
    bindings:
      - port: 6050
        
  - name: service-test-second-api
    project: src/Services/Test/SecondTestApiService/SecondTestApiService.csproj
    env:
      - name: ASPNETCORE_ENVIRONMENT
        value: Development;
    bindings:
      - port: 6051
        
  - name: web-status
    project: src/Web/Ukraine.Web.Status/Ukraine.Web.Status.csproj
    env:
      - name: ASPNETCORE_ENVIRONMENT
        value: Development
    bindings:
      - port: 6040